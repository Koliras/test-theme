{% assign cartProductIds = cart.items | map: 'product_id' %}

<div class="productsPage productsPage--position">
  <h2 class="productsPage__header">
    Featured Products
  </h2>

  <div class="productsPage__content">
    {% for product in collections['frontpage'].products %}
      {% if cartProductIds contains product.id %}
        {{ nil }}
      {% else %}
        {% include 'product-card', product: product %}
      {% endif %}
    {% endfor %}
  </div>
</div>